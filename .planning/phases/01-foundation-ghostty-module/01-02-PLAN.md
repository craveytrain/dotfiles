---
phase: 01-foundation-ghostty-module
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - playbooks/deploy.yml
autonomous: true

must_haves:
  truths:
    - "Duplicate 1password entry removed from deploy.yml"
    - "Only one 1password entry exists in install list"
  artifacts:
    - path: "playbooks/deploy.yml"
      provides: "Module deployment configuration"
      contains: "1password"
  key_links: []
---

<objective>
Fix duplicate 1password entry in deploy.yml (tech debt).

Purpose: Clean up existing tech debt before adding new modules. The duplicate entry at line 26 should be removed.
Output: Fixed deploy.yml with exactly one 1password entry.
</objective>

<execution_context>
@/Users/mcravey/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mcravey/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@playbooks/deploy.yml
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove duplicate 1password entry</name>
  <files>playbooks/deploy.yml</files>
  <action>
Edit playbooks/deploy.yml to remove the duplicate `- 1password` entry at line 26.

Current state (lines 16-26):
```yaml
      install:
        - git
        - fonts
        - 1password      # Line 19 - KEEP
        - shell
        - fish
        - zsh
        - dev-tools
        - node
        - editor
        - 1password      # Line 26 - REMOVE
```

After fix (lines 16-25):
```yaml
      install:
        - git
        - fonts
        - 1password
        - shell
        - fish
        - zsh
        - dev-tools
        - node
        - editor
```

Do NOT:
- Remove the first 1password entry (line 19)
- Modify any other parts of the file
- Change any comments
- Add ghostty yet (that's a separate plan)
  </action>
  <verify>
Run: `grep -c "1password" playbooks/deploy.yml` - should return 1 (not 2)
Run: `grep -n "1password" playbooks/deploy.yml` - should show only one line
  </verify>
  <done>deploy.yml has exactly one 1password entry (tech debt fixed)</done>
</task>

</tasks>

<verification>
After task completes:
1. `grep -c "1password" playbooks/deploy.yml` returns 1
2. `wc -l playbooks/deploy.yml` shows 28 lines (one less than before)
</verification>

<success_criteria>
- deploy.yml has exactly one 1password entry
- No other changes to deploy.yml
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-ghostty-module/01-02-SUMMARY.md`
</output>
